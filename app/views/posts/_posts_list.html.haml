- @posts.each do |post|
  .card.mt-3.post
    .card-header.d-flex.align-items-center
      = link_to user_path(post.user), class: 'no-text-decoration' do
        = image_tag avatar_url(post.user), class: 'post-author-icon'
        = link_to user_path(post.user), class: 'ml-2 normal-color no-text-decoration', title: post.user.name do
          %strong= post.user.name
        - if post.belongs_to?(current_user)
          = link_to post_path(post), method: :delete, class: 'ml-auto delete-post-icon mx-0 my-auto' do
            %i.far.fa-trash-alt{ aria: { hidden: true } }

    - if post.photos.size == 1
      = image_tag post.photos.first.image.url(:standard), class: 'card-img-top'
    - else
      .carousel.slide{ data: { ride: :carousel }, id: "carousel-post-#{post.id}" }
        .carousel-inner
          - post.photos.each do |photo|
            .carousel-item{ class: "#{'active' if photo == post.photos.first}"}
              = image_tag photo.image.url(:standard), class: 'card-img-top'
        %a.carousel-control-prev{ href: "#carousel-post-#{post.id}", role: :button, data: { slide: :prev } }
          %span.carousel-control-prev-icon{ aria: { hidden: true } }
          %span.sr-only Previous
        %a.carousel-control-next{ href: "#carousel-post-#{post.id}", role: :button, data: { slide: :next } }
          %span.carousel-control-next-icon{ aria: { hidden: true } }
          %span.sr-only Next

    .card-body
      .row.actions
        %a.core-sprite.love.hide-text Love
        %a.core-sprite.comment.hide-text Comment
        %a.core-sprite.bookmark.hide-text.ml-auto Bookmark
      %div
        %strong= pluralize(16, 'like')
      %div
        %span
          %strong= post.user.name
        %span= post.content

      = link_to "#{time_ago_in_words(post.created_at).upcase} AGO", post_path(post), class: 'light-color post-time no-text-decoration'
      %hr
      .row.actions
        %form{ action: '#', class: 'w-100' }
          %div
            %textarea.form-control.comment-input.border-0{ rows: 1, placeholder: 'Add a comment...' }